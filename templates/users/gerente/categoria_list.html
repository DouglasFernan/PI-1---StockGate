{% extends 'users/gerente/base.html' %}
{% load static %}
{% block title %}Gerenciar Categorias{% endblock %}
{% block head %}
<link rel="stylesheet" href="{% static 'css/gerente/gerenciar_categorias.css' %}">
<script src="{% static 'js/gerente/produtos.js' %}"></script>
{% endblock %}
{% block content %}
<section id="core">
    <div class="top">
        <div class="h5">
            <h5>Gerenciar Categorias</h5>
        </div>
        <div class="form">
            <div>
                <form id="form-1" method="get" action="" class="search-form">
                    <input type="text" name="search" placeholder="Busca" value="{{ request.GET.search }}">
                    <button type="submit">Buscar</button>
                </form>
            </div>
            <div>
                <a href="">
                    <button class="btn-new-user">Nova Categoria</button>
                </a>
            </div>
        </div>
    </div>
    <div id="users-container">
        <div class="categorias">
            {% for category in object_list %}
                <div id="open-modal" class="box" 
                     data-category-id="{{ category.id }}"
                     data-category-name="{{ category.name }}"
                     data-category-desc="{{ category.description }}">
                    <div id="category_name">{{ category.name }}</div>
                    <div id="category_desc">{{ category.description }}</div>
                </div>
            {% empty %}
                <h5>No data yet</h5>
            {% endfor %}
        </div>
    </div>
</section>

<!-- Modal para edição de categorias -->
<section class="modal">
    <form id="form" method="post">
        {% csrf_token %}
        <div class="top-2">
            <div class="area-1">
                <input type="text" name="name" id="category-name" placeholder="Nome da Categoria" required>
            </div>
            <div class="area-2">
                <textarea name="description" id="category-description" placeholder="Descrição (opcional)" rows="3"></textarea>
            </div>
        </div>
        <div class="down">
            <div class="area-3">
                <button type="submit" class="btn-new-user-2">Salvar Categoria</button>
            </div>
        </div>
    </form>
</section>
{% endblock %}
